<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Page Title</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

</head>
<body>

  <div>
    <input id = 'temicmd' type="text">

    <button id='stbtn'>order all</button>
  </div>
</body>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-analytics.js";
  import { getDatabase, ref, set, onValue,update } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-database.js";
  import { collection, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/9.8.4/firebase-firestore.js";


  const firebaseConfig = {
    apiKey: "AIzaSyB3QYKLd6XRMCyHh6DL9_c5HGfOynYXlqI",
    authDomain: "burs-3d243.firebaseapp.com",
    databaseURL: "https://burs-3d243-default-rtdb.firebaseio.com",
    projectId: "burs-3d243",
    storageBucket: "burs-3d243.appspot.com",
    messagingSenderId: "892325446937",
    appId: "1:892325446937:web:abe1c0a2a36bb63db67188",
    measurementId: "G-N3WNH571S2"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getDatabase();
  const read_ste = ref(db, 'info/status/');
  // onValue(read_ste, (snapshot) => {
  //   const ste_dada = snapshot.val();
  //   if (ste_dada.temi1 == 'complete') {
  //     console.log(ste_dada.temi1)
  //   }
  // }
  //   , { onlyOnce: false });

  function temi(temi,command){
      let obj = {}
      obj['message/'+temi] = command
      update(ref(db), obj);
    }

  
    function sleep (time) {
      return new Promise((resolve) => setTimeout(resolve, time));
    }

  function start_temi() {
    console.log(document.getElementById('t101').value)
    // set(doc(db,'info/status/'),{temi1:document.getElementById('t101').value})
  }
  document.getElementById('stbtn').addEventListener('click', () => {
    // temi('temi1',document.getElementById('temicmd').value)
    temi('temi2',document.getElementById('temicmd').value)
    // temi('temi3',document.getElementById('temicmd').value)
    // temi('temi4',document.getElementById('temicmd').value)
    // temi('temi5',document.getElementById('temicmd').value)
    // temi('temi6',document.getElementById('temicmd').value)
    // alert('send '+document.getElementById('temicmd').value+' done')

  });
    
    

</script>

</html>